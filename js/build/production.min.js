!function(){"use strict";angular.module("http-interceptor",[]).config(["$httpProvider",function(a){var b=["$rootScope","$q",function(a,b){function c(a){return a}function d(c){var d;return e.test(c.status)&&a.$broadcast("event:userMessage",d),b.reject(c)}var e=new RegExp(/^(5|4)/);return function(a){return a.then(c,d)}}];a.responseInterceptors.push(b)}])}(),function(){"use strict";angular.module("youtubeModule",[]).factory("youtubeAPIService",["$http","$log","$q","$window",function(a,b,c,d){var e={key:"AIzaSyAD0zYSogTVsvGNGnnWJKghb7jms3dua4M",part:"snippet",type:"video",q:"Oculus",callback:"JSON_CALLBACK",maxResults:20},f={method:"JSONP",cache:!0,url:"https://www.googleapis.com/youtube/v3/search"},g=!1,h=c.defer();return d.onYouTubePlayerAPIReady=function(){h.resolve()},{setUpYoutube:function(){if(!g){var a=document.createElement("script"),b=document.getElementsByTagName("script")[0];g=!0,a.src="https://www.youtube.com/player_api",b.parentNode.insertBefore(a,b)}return h.promise},setHttpConfig:function(a){angular.isObject(a)&&(f=a)},setSearchParam:function(a){angular.isObject(a)&&(e=a)},getSearchParams:function(){return e},searchKeyword:function(b){var d={},g=c.defer();return e.q=angular.isArray(b)?b.join(","):b,angular.extend(d,f),d.params=e,a(d).success(function(a){g.resolve(a)}).error(function(a){g.reject(a)}),g.promise}}}]).directive("youtubePlayer",[function(){return{restrict:"EA",scope:{video:"="},controller:["$scope","$element","$attrs","$window","youtubeAPIService",function(a,b,c,d,e){var f;a.createPlayer=function(){var a=e.setUpYoutube();a.then(function(){f=new d.YT.Player(c.id,{videoId:c.defaultvideoid})})},a.updateVideo=function(){f.cueVideoById(a.video.id.videoId)}}],templateUrl:"youtube/player.html",link:function(a){a.$watch("video",function(){void 0!==a.video&&!angular.equals(a.video,{})&&a.video.id.videoId&&(a.updateVideo(),console.log(a.video))}),a.createPlayer()}}}]).run(["$templateCache",function(a){a.put("youtube/player.html","{{video}}")}])}(),function(){"use strict";angular.module("oculusDemo",["ngRoute","http-interceptor","youtubeModule"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"partials/home.html",controller:"homeController"}).otherwise({redirectTo:"/"})}])}(),function(a){"use strict";setTimeout(function(){angular.bootstrap(a,["oculusDemo"])},200)}(document.querySelector("body")),function(){"use strict";angular.module("oculusDemo").controller("homeController",["$scope","youtubeAPIService",function(a,b){var c={metaData:{}};a.data={videoId:"M7lc1UVf-VE",items:{},results:null,keyword:"oculus"};var d=function(){var d=b.searchKeyword(a.data.keyword);d.then(function(b){a.data.items=b.items,c.metaData.nextPageToken=b.nextPageToken})};return a.updateVideo=function(b){a.$apply(a.data.video=b)},a.fetchMoreVideos=function(){var d,e=b.getSearchParams();e.pageToken=c.metaData.nextPageToken,b.setSearchParam(e),d=b.searchKeyword(a.data.keyword),d.then(function(b){angular.forEach(b.items,function(b){a.data.items.push(b)}),c.metaData.nextPageToken=b.nextPageToken})},d()}])}(),function(){"use strict";angular.module("oculusDemo").directive("thumbNail",[function(){return{restrict:"E",replace:!0,scope:{videoData:"=",userSelectedVideo:"&"},templateUrl:"youtube/thumbnail.html",link:function(a,b){b.on("click",function(){a.userSelectedVideo({video:a.videoData}),angular.element(b.parent()[0].querySelectorAll(".active")).removeClass("active"),b.addClass("active")})}}}]).directive("scrollLoadResults",[function(){return{restrict:"A",scope:{pingCallback:"&"},link:function(a,b){var c=b[0];b.bind("scroll",function(){c.scrollTop+c.offsetHeight>=c.scrollHeight-100&&a.pingCallback()})}}}]).run(["$templateCache",function(a){a.put("youtube/thumbnail.html",'<div class="mod-thumbnail">	<img ng-src="{{videoData.snippet.thumbnails.default.url}}"/>	<div class="thumbnail-title">{{videoData.snippet.title}}</div>	<div class="thumbnail-description">{{videoData.snippet.description}}</div></div>')}])}();